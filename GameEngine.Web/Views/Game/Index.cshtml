@using System.Web.Optimization
@model GameEngine.ViewModel.GameViewModel
@{
    Layout = null;
    if (Model.Consumer == null) { throw new Exception("Consumer object is null."); }
    if (Model.Config == null) { throw new Exception("Config object is null."); }
    if (Model.Consumer.GaasCampaignKey == null) { throw new Exception("Consumer.GaasCampaignKey is null."); }
    if (Model.Config.GaasPanelId == 0) { throw new Exception("Config.GaasPanelId is 0."); }
    if (Model.Consumer.GaasConsumerId == null) { throw new Exception("Consumer.GaasConsumerId is null."); }
}
<!DOCTYPE html>
<html>
<head>
    <script>
        window.parent.postMessage('{"element_cfg" : "hide_footer"}', "*");
    </script>
    <meta charset="utf-8" />
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="description" content="Game" />
    <meta name="Author" content="">
    <meta name="format-detection" content="telephone=no" />
    <title>GameEngine Game</title>
    @Styles.Render("~/Assets/css/game")
    <script>
        window.parent.postMessage('{"element_cfg" : "show_footer"}', "*");
        window.parent.postMessage('{"game_hidemenu" : "true"}', "*");

    </script>
    <script>
        var CAMPAIGN_KEY = '@(Model.Config.GaasCampaignKey)';
        var PANEL_ID = @(Model.Config.GaasPanelId);
        var GAAS_CONSUMER_ID = '@(Model.Consumer.GaasConsumerId)';
        var HOME_URL = '@Url.Content("~")';
        var HOST_URL = '@Model.HostUrl';
        var TOTAL_LEVELS = @Model.TotalLevels;
        var LEVEL_NUMBER = @(Model.Config?.LevelNumber ?? 1);
        var SHOW_RESULT = false;
        var GAMESCORE = 0;
        var GENDER = '@(Model.Consumer?.GaasGender)';
        var STARTENDPOINT = '@Url.HttpRouteUrl("api/gamelog/start", new {controller = "GameLog", action = "Start" })';
        var FINISHENDPOINT = '@Url.HttpRouteUrl("api/gamelog/start", new {controller = "GameLog", action = "Finish" })';
        var GAMEOVERENDPOINT = '@Url.RouteUrl("DefaultApi", new {httproute = "", controller = "GameLog", action = "GameOver" })';
        var POSTSCOREENDPOINT = '@Url.RouteUrl("DefaultApi", new {httproute = "", controller = "GameLog", action = "SaveScore" })';
        var TELEMETRYENDPOINT = '@Url.RouteUrl("DefaultApi", new {httproute = "", controller = "GameLog", action = "Telemetry" })';
        var DCQENDPOINT = '@Url.RouteUrl("DefaultApi", new {httproute = "", controller = "Dc", action = "GetNextQuestion" })';
        var DCAENDPOINT = '@Url.RouteUrl("DefaultApi", new {httproute = "", controller = "Dc", action = "AnswerQuestion" })';
        var fps = @GameEngine.Web.Helpers.ConfigReader.GetItem(Model.Fields, "fps", "30");
        fps = 30;
        var ImpactPrefix = HOME_URL + 'Assets/';
        var test = '@GameEngine.Web.Helpers.ConfigReader.GetItem(Model.Fields, "Key2", "30")';

    </script>
    @Scripts.Render("~/Assets/js/game")
</head>
<body ontouchstart="">
    @*<div class="wrapper">
        <div class="inner">*@
    <div id="ajaxbar">
        <div id="game"><canvas id="canvas"></canvas></div>

        <div id="orientate"><img src="@Url.Content("~")Assets/media/graphics/orientate/landscape.jpg" /></div>
        <div id="play" class="play" onclick=""><img src="@Url.Content("~")Assets/media/graphics/splash/mobile/cover-start.jpg" /></div>
        <!--<img id="scrollDown" width="220" height="277"></img>-->
        <!-- SECTION GENERATED BY CODE -->
        <div id="MobileAdInGamePreroll">
            <div id="MobileAdInGamePreroll-Box">
                <div id="MobileAdInGamePreroll-Box-Header"></div>
                <a id="MobileAdInGamePreroll-Box-Close" onclick="MobileAdInGamePreroll.Close();"></a>
                <div id="MobileAdInGamePreroll-Box-Body">
                    <center>
                        <!-- MobileAdInGamePreroll -->
                        <!-- AdTest-MobileAdInGamePreroll -->
                        <img src="http://cdn-factory.marketjs.com/generic.png">
                        <!-- EndOfAdTest-MobileAdInGamePreroll -->
                    </center>
                </div>
                <div id='MobileAdInGamePreroll-Box-Footer'></div>
            </div>
        </div>

        <!-- SECOND AD (ROTATION) -->
        <div id="MobileAdInGamePreroll2">
            <div id="MobileAdInGamePreroll2-Box">
                <div id="MobileAdInGamePreroll2-Box-Header"></div>
                <a id="MobileAdInGamePreroll2-Box-Close" onclick="MobileAdInGamePreroll.Close();"></a>
                <div id="MobileAdInGamePreroll2-Box-Body">
                    <center>
                        <!-- MobileAdInGamePreroll2 -->
                    </center>
                </div>
                <div id='MobileAdInGamePreroll2-Box-Footer'></div>
            </div>
        </div>

        <!-- THIRD AD (ROTATION) -->
        <div id="MobileAdInGamePreroll3">
            <div id="MobileAdInGamePreroll3-Box">
                <div id="MobileAdInGamePreroll3-Box-Header"></div>
                <a id="MobileAdInGamePreroll3-Box-Close" onclick="MobileAdInGamePreroll.Close();"></a>
                <div id="MobileAdInGamePreroll3-Box-Body">
                    <center>
                        <!-- MobileAdInGamePreroll3 -->
                    </center>
                </div>
                <div id='MobileAdInGamePreroll3-Box-Footer'></div>
            </div>
        </div>

        <div id="MobileAdInGameHeader">
            <!-- MobileAdInGameHeader -->
        </div>
        <div id="MobileAdInGameHeader2">
            <!-- MobileAdInGameHeader2 -->
        </div>
        <div id="MobileAdInGameHeader3">
            <!-- MobileAdInGameHeader3 -->
        </div>

        <div id="MobileAdInGameFooter">
            <!-- MobileAdInGameFooter -->
        </div>
        <div id="MobileAdInGameFooter2">
            <!-- MobileAdInGameFooter2 -->
        </div>
        <div id="MobileAdInGameFooter3">
            <!-- MobileAdInGameFooter3 -->
        </div>


        <div id="MobileAdInGameEnd">
            <div id="MobileAdInGameEnd-Box">
                <div id="MobileAdInGameEnd-Box-Header"></div>
                <a id="MobileAdInGameEnd-Box-Close" onclick="MobileAdInGameEnd.Close();"></a>
                <div id="MobileAdInGameEnd-Box-Body">
                    <center>
                        <!-- MobileAdInGameEnd -->
                    </center>
                </div>
                <div id='MobileAdInGameEnd-Box-Footer'></div>
            </div>
        </div>

        <!-- SECOND AD (ROTATION) -->
        <div id="MobileAdInGameEnd2">
            <div id="MobileAdInGameEnd2-Box">
                <div id="MobileAdInGameEnd2-Box-Header"></div>
                <a id="MobileAdInGameEnd2-Box-Close" onclick="MobileAdInGameEnd.Close();"></a>
                <div id="MobileAdInGameEnd2-Box-Body">
                    <center>
                        <!-- MobileAdInGameEnd2 -->
                    </center>
                </div>
                <div id='MobileAdInGameEnd2-Box-Footer'></div>
            </div>
        </div>

        <!-- THIRD AD (ROTATION) -->
        <div id="MobileAdInGameEnd3">
            <div id="MobileAdInGameEnd3-Box">
                <div id="MobileAdInGameEnd3-Box-Header"></div>
                <a id="MobileAdInGameEnd3-Box-Close" onclick="MobileAdInGameEnd.Close();"></a>
                <div id="MobileAdInGameEnd3-Box-Body">
                    <center>
                        <!-- MobileAdInGameEnd3 -->
                    </center>
                </div>
                <div id='MobileAdInGameEnd3-Box-Footer'></div>
            </div>
        </div>

        <!-- END OF SECTION GENERATED BY CODE -->

    </div>
    <!-- <div id="tempdiv"><br><br><br></div> -->
    <!-- APICode2 -->
    <!-- END OF TEST -->
        @*</div>
    </div>*@
    @* Scripts here*@

    <form action="@Url.RouteUrl("Result")" method="post" enctype="multipart/form-data" id="resultForm">
        <input name="campaignKey" id="campaignKey" type="hidden" value="@(Model.Config.GaasCampaignKey)" />
        <input name="panelId" id="panelId" type="hidden" value="@(Model.Config.GaasPanelId)" />
        <input name="gaasConsumerId" id="consumerId" type="hidden" value="@(Model.Consumer.GaasConsumerId)"/>
        <input name="level" id="level" type="hidden" value="@(Model.Config?.LevelNumber ?? 1)"/>
        <input name="score" id="score" type="hidden" value="0" />
    </form>
    @*<script>
            $(window)
                .load(function() {
                    $('.inner').css("visibility", "visible");
                });
    </script>*@

   
</body>
</html>