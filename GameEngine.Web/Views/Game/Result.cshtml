@using System.Web.Optimization
@model GameEngine.ViewModel.ResultViewModel
@{
    Layout = null;
    ViewBag.Title = "Home";
}
<!DOCTYPE html>
<html>
<head>
    <script>
        window.parent.postMessage('{"element_cfg" : "show_footer"}', "*");
    </script>
    <meta charset="utf-8" />
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="description" content="Game" />
    <meta name="Author" content="">
    <meta name="format-detection" content="telephone=no" />
    <title>GameEngine Game</title>
    @* CSS here *@
    @Styles.Render("~/Assets/css/result")
    @Scripts.Render("~/Assets/js/jquery")
    <style>
        .message {
            width: 100%;
            text-align: center;
            font-size: 32px;
            margin-top: -80px; 
            font-family: 'Arial Rounded MT', Helvetica, sans-serif;
            color: #fff;
            text-shadow: 2px 2px 4px #000;
        }
    </style>
    @helper MessageText()
    {
        if (Model.Score < 16)
            { <text>A slow start but plenty to work on!</text> }

        else if (Model.Score < 31)
            { <text>Picking up the pace, keep going!</text> }

        else if (Model.Score < 51)
            { <text>Solid play! Showing great potential!</text> }

        else
            { <text>A rock star performance. Awesome!</text> }
    }
</head>
<body>
    <div id="wrapper">
        <div class="inner">
            <p class="finalScore">@Model.Score</p>
            <p class="message">
                @MessageText()
            </p>
        </div>
    </div>
    <script>
        var GAMESCORE = @Model.Score;
        var CUSTOMEVENTENDPOINT = '@Url.HttpRouteUrl("api/gamelog/customevent", new {controller = "GameLog", action = "CustomEvent" })';

        $(document).ready(function() {

        });
    </script>
    <p class="facebookText">
    </p>
    @*@{ Html.BeginForm("Index", "Home",
        new
        {
            campaignKey = Model.GameViewModel.Config.GaasCampaignKey,
            panelId = Model.GameViewModel.Config.GaasPanelId,
            consumerId = Model.GameViewModel.Consumer.GaasConsumerId,
        }, FormMethod.Post, new { enctype = "multipart/form-data" }); }*@
    <input id="btnPlay" type="submit" value="">
    <a class="leaderboard-button" href="https://ingames.com.au/f33eb0df9bb6419fb8c3383ccc160fe7/leaderboard" target="_parent"></a>
    @*@{ Html.EndForm();}*@
    <script>
        //$(document)
        //   .ready(function () {
        //       window.parent.postMessage('{"game_play" : "over"}', "*");
        //   });

        $('#btnPlay').click(function() {
            window.parent.postMessage('{"game_play" : "over"}', "*");
        });
    </script>
</body>
</html>